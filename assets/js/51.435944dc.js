(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{331:function(a,t,s){"use strict";s.r(t);var n=s(14),e=Object(n.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基础"}},[a._v("#")]),a._v(" 基础")]),a._v(" "),t("ul",[t("li",[a._v("import 不具有递归的特性")]),a._v(" "),t("li",[a._v("include 将目标文件中<template/>和<wxs/>外的整个代码引入到当前位置")]),a._v(" "),t("li",[a._v("js 脚本在 JsCore 中执行，每个页面在各自 WebView 线程进行渲染，切换页面时，运行上下文依旧在同一个 JsCore 线程中")]),a._v(" "),t("li",[a._v("所有脚本都在同一个 JsCore 中执行，所以定时器需要切换页面时，需要提前清除")])]),a._v(" "),t("h2",{attrs:{id:"app"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#app"}},[a._v("#")]),a._v(" App")]),a._v(" "),t("ul",[t("li",[a._v("App()创建 App 实例，getApp()获取 App 实例")]),a._v(" "),t("li",[a._v("onLaunch （全局只触发一次） / onShow / onHide / onError / 其余字段")])]),a._v(" "),t("h2",{attrs:{id:"page"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#page"}},[a._v("#")]),a._v(" Page")]),a._v(" "),t("ul",[t("li",[a._v("Page()创建页面实例")]),a._v(" "),t("li",[a._v("data 属性是初始数据")]),a._v(" "),t("li",[a._v("onLoad （未被销毁前只触发一次） / onReady （未被销毁前只触发一次） / onShow / onHide / onUnload 生命周期函数")]),a._v(" "),t("li",[a._v("触发顺序 onLoad > onShow > onReady")]),a._v(" "),t("li",[a._v("onReady 执行了表示逻辑层和视图层可以交互")]),a._v(" "),t("li",[a._v("wx.navigateTo 切换页面或 tab 切换时，会触发 onHide")]),a._v(" "),t("li",[a._v("wx.redirectTo 或 wx.navigateBack 回到其他页面，会触发 onUnload")])]),a._v(" "),t("h3",{attrs:{id:"setdata"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setdata"}},[a._v("#")]),a._v(" setData")]),a._v(" "),t("ul",[t("li",[a._v("setData(data, callback)，data 是 key: value 形式的对象")]),a._v(" "),t("li",[a._v("setData 需要两个线程的一些通讯消耗，为了提高性能，每次设置数据不超过 1024KB")]),a._v(" "),t("li",[a._v("不要把 data 中任意一项的 value 设置为 undefined，可能会引起不可预料的 bug")])]),a._v(" "),t("h3",{attrs:{id:"页面用户行为"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页面用户行为"}},[a._v("#")]),a._v(" 页面用户行为")]),a._v(" "),t("p",[t("strong",[a._v("onPullDownRefresh")]),a._v("\n监听用户下拉刷新事件，在 app.json 的 window 选项中或页面配置.json 中设置 enablePullDownRefresh 为 true 开启功能，刷新完后，wx.stopPullDownRefresh 可以停止当前页面的下拉刷新")]),a._v(" "),t("p",[t("strong",[a._v("onRearchBottom")]),a._v("\n监听用户上拉触底事件，在 app.json 的 window 选项中或页面配置.json 中设置触发距离 onReachBottomDistance，在触发距离期间，事件只会触发一次")]),a._v(" "),t("p",[t("strong",[a._v("onShareAppMessage")]),a._v("\n监听用户滑动页面事件，参数为 Object，包含 scrollTop 字段，表示垂直方向已滚动的距离（px）")]),a._v(" "),t("p",[t("strong",[a._v("onPageScroll")]),a._v("\n定义了该事件，右上角才显示转发按钮，点击转发按钮式会调用，此事件需要返回一个 Object，包含 title 和 path 两个字段，用于自定义转发内容")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("Page")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token function-variable function"}},[a._v("onShareAppMessage")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("function")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("title")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"自定义转发标题"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token literal-property property"}},[a._v("path")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/page/user?id=123"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br")])]),t("h3",{attrs:{id:"页面跳转和路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#页面跳转和路由"}},[a._v("#")]),a._v(" 页面跳转和路由")]),a._v(" "),t("p",[a._v("页面栈最大数量为 10 个页面")]),a._v(" "),t("p",[a._v("只能打开非 Tabbar 页面："),t("br"),a._v(" "),t("strong",[a._v("wx.navigateTo()")]),a._v(" 打开新页面，路由前 onHide，路由后 onLoad、onShow\n"),t("strong",[a._v("wx.redirectTo()")]),a._v(" 页面重定向，路由前 onUpload，路由后 onLoad、onShow")]),a._v(" "),t("p",[a._v("只能打开 Tabbar 页面："),t("br"),a._v(" "),t("strong",[a._v("wx.switchTab()")]),a._v(" Tab（除了声明了 Tabbar 页面）")]),a._v(" "),t("p",[t("strong",[a._v("wx.navigateBack()")]),a._v(" 页面返回，路由前 onUpload，路由后 onShow\n"),t("strong",[a._v("wx.reLauch")]),a._v(" 重启动，路由前 onUpload，路由后 onLoad、onShow")]),a._v(" "),t("h2",{attrs:{id:"组件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组件"}},[a._v("#")]),a._v(" 组件")]),a._v(" "),t("p",[a._v('组件名和属性都是小写，多个单词以"-"进行连接；'),t("br"),a._v("\n组件公有属性：")]),a._v(" "),t("ul",[t("li",[a._v("id")]),a._v(" "),t("li",[a._v("class")]),a._v(" "),t("li",[a._v("hidden 是否可显示")]),a._v(" "),t("li",[a._v("data-* 自定义属性")]),a._v(" "),t("li",[a._v("bind/catch 事件")])]),a._v(" "),t("p",[a._v("Image 图片组件属性：")]),a._v(" "),t("ul",[t("li",[a._v("src")]),a._v(" "),t("li",[a._v("mode 图片裁剪、缩放的模式")]),a._v(" "),t("li",[a._v("lazy-load 懒加载")]),a._v(" "),t("li",[a._v("binderror 错误发生时触发事件")]),a._v(" "),t("li",[a._v("bindload 加载完毕时触发事件")])]),a._v(" "),t("h2",{attrs:{id:"api"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[a._v("#")]),a._v(" API")]),a._v(" "),t("p",[a._v("wx.on"),t("em",[a._v("开头的 API 是监听某个事件发生的 API 事件，接受一个 callback 函数为参数；"),t("br"),a._v("\nAPI 的 Object 参数一般由 success、fail、complete 三个回调接收接口调用结果；"),t("br"),a._v("\nwx.get")]),a._v("开头的 API 是获取宿主环境数据的接口；"),t("br"),a._v("\nwx.set*开头的 API 是写入数据到宿主环境的接口；")]),a._v(" "),t("h2",{attrs:{id:"事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[a._v("#")]),a._v(" 事件")]),a._v(" "),t("ul",[t("li",[a._v("touchstart")]),a._v(" "),t("li",[a._v("touchmove")]),a._v(" "),t("li",[a._v("touchcancel")]),a._v(" "),t("li",[a._v("touchend")]),a._v(" "),t("li",[a._v("tap")]),a._v(" "),t("li",[a._v("longpress")]),a._v(" "),t("li",[a._v("longtap")]),a._v(" "),t("li",[a._v("transitionend")]),a._v(" "),t("li",[a._v("animationstart")]),a._v(" "),t("li",[a._v("animationiteration")]),a._v(" "),t("li",[a._v("animationend")])]),a._v(" "),t("h3",{attrs:{id:"事件绑定和捕获"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事件绑定和捕获"}},[a._v("#")]),a._v(" 事件绑定和捕获")]),a._v(" "),t("p",[a._v("bind 不会阻止冒泡事件向上冒泡，bind: 以及 capture-bind:"),t("br"),a._v("\ncatch 可以阻止冒泡事件向上冒泡，catch: 以及 capture-catch:")]),a._v(" "),t("h2",{attrs:{id:"兼容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#兼容"}},[a._v("#")]),a._v(" 兼容")]),a._v(" "),t("h2",{attrs:{id:"使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),t("ul",[t("li",[a._v("placeholder-class 用于指定 placeholder 的相关样式")]),a._v(" "),t("li",[a._v('button 的 formType="submit" 和 form 的 bindSubmit="方法"用于提交表单')]),a._v(" "),t("li",[a._v("background 的 url 只能用 base64 或线上地址")])])])}),[],!1,null,null,null);t.default=e.exports}}]);